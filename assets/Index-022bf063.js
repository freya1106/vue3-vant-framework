import{w as $,a as E,u as M,c as w,t as B,n as g,m as j,b as H,g as N,B as F,d as T,e as z,f as G,h as K,i as L,I as W}from"./index-171da81c.js";import{i as Y,w as k,r as y,o as D,n as C,c as o,d as S,g as U,a as Z,m as q,_ as J,b as Q,e as X,f as ee,h as b,F as te,j as v}from"./index-2b01ed76.js";import{c as ae}from"./interceptor-ee52a522.js";import{r as ne,u as oe}from"./use-route-b789bdaa.js";const re=Symbol();function ce(e){const n=Y(re,null);n&&k(n,t=>{t&&e()})}const se=(e,n)=>{const t=y(),a=()=>{t.value=M(e).height};return D(()=>{if(C(a),n)for(let s=1;s<=3;s++)setTimeout(a,100*s)}),ce(()=>C(a)),k([$,E],a),t};function ie(e,n){const t=se(e,!0);return a=>o("div",{class:n("placeholder"),style:{height:t.value?`${t.value}px`:void 0}},[a()])}const[A,I]=w("tabbar"),le={route:Boolean,fixed:B,border:B,zIndex:g,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:j(0),safeAreaInsetBottom:{type:Boolean,default:null}},O=Symbol(A);var ue=S({name:A,props:le,emits:["change","update:modelValue"],setup(e,{emit:n,slots:t}){const a=y(),{linkChildren:s}=H(O),u=ie(a,I),h=()=>{var r;return(r=e.safeAreaInsetBottom)!=null?r:e.fixed},i=()=>{var r;const{fixed:c,zIndex:l,border:m}=e;return o("div",{ref:a,role:"tablist",style:N(l),class:[I({fixed:c}),{[F]:m,"van-safe-area-bottom":h()}]},[(r=t.default)==null?void 0:r.call(t)])};return s({props:e,setActive:(r,c)=>{ae(e.beforeChange,{args:[r],done(){n("update:modelValue",r),n("change",r),c()}})}}),()=>e.fixed&&e.placeholder?u(i):i()}});const de=T(ue),[me,p]=w("tabbar-item"),fe=z({},ne,{dot:Boolean,icon:String,name:g,badge:g,badgeProps:Object,iconPrefix:String});var be=S({name:me,props:fe,emits:["click"],setup(e,{emit:n,slots:t}){const a=oe(),s=U().proxy,{parent:u,index:h}=G(O);if(!u)return;const i=Z(()=>{var c;const{route:l,modelValue:m}=u.props;if(l&&"$route"in s){const{$route:_}=s,{to:f}=e,d=L(f)?f:{path:f};return!!_.matched.find(P=>{const R="path"in d&&d.path===P.path,V="name"in d&&d.name===P.name;return R||V})}return((c=e.name)!=null?c:h.value)===m}),x=c=>{var l;i.value||u.setActive((l=e.name)!=null?l:h.value,a),n("click",c)},r=()=>{if(t.icon)return t.icon({active:i.value});if(e.icon)return o(W,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var c;const{dot:l,badge:m}=e,{activeColor:_,inactiveColor:f}=u.props,d=i.value?_:f;return o("div",{role:"tab",class:p({active:i.value}),style:{color:d},tabindex:0,"aria-selected":i.value,onClick:x},[o(K,q({dot:l,class:p("icon"),content:m},e.badgeProps),{default:r}),o("div",{class:p("text")},[(c=t.default)==null?void 0:c.call(t,{active:i.value})])])}}});const he=T(be);const ve={};function _e(e,n){const t=Q("RouterView"),a=he,s=de;return X(),ee(te,null,[o(t),o(s,{route:""},{default:b(()=>[o(a,{replace:"",to:"/tabbarHome",icon:"wap-home-o"},{default:b(()=>[v("首页")]),_:1}),o(a,{replace:"",to:"/tabbarWork",icon:"bag-o"},{default:b(()=>[v("工作")]),_:1}),o(a,{replace:"",to:"/tabbarLife",icon:"guide-o"},{default:b(()=>[v("生活")]),_:1}),o(a,{replace:"",to:"/tabbarMy",icon:"user-o"},{default:b(()=>[v("我的")]),_:1})]),_:1})],64)}const Be=J(ve,[["render",_e]]);export{Be as default};
