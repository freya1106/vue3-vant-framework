import{c as Y,m as f,t as g,n as y,j as q,k as Z,l as ee,H as G,o as U,p as W,r as te,q as N,s as ne,L as ae,d as oe}from"./index-171da81c.js";import"./index-a872dbaf.js";import{B as se}from"./index-b16ffc31.js";import{d as ie,r as j,a as v,w as p,c as r,k as L,v as E,m as O,n as le,l as ue,_ as ce,u as re,p as de,o as me,e as M,f as A,q as d,h as he,t as _e,s as be,j as fe,x as ge,y as ve}from"./index-2b01ed76.js";import{c as Pe}from"./interceptor-ee52a522.js";import"./use-route-b789bdaa.js";const[Se,I]=Y("stepper"),xe=200,k=(e,i)=>String(e)===String(i),Te={min:f(1),max:f(1/0),name:f(""),step:f(1),theme:String,integer:Boolean,disabled:Boolean,showPlus:g,showMinus:g,showInput:g,longPress:g,autoFixed:g,allowEmpty:Boolean,modelValue:y,inputWidth:y,buttonSize:y,placeholder:String,disablePlus:Boolean,disableMinus:Boolean,disableInput:Boolean,beforeChange:Function,defaultValue:f(1),decimalLength:y};var Ve=ie({name:Se,props:Te,emits:["plus","blur","minus","focus","change","overlimit","update:modelValue"],setup(e,{emit:i}){const o=(t,a=!0)=>{const{min:s,max:V,allowEmpty:l,decimalLength:w}=e;return l&&t===""||(t=U(String(t),!e.integer),t=t===""?0:+t,t=Number.isNaN(t)?+s:t,t=a?Math.max(Math.min(+V,t),+s):t,W(w)&&(t=t.toFixed(+w))),t},b=()=>{var t;const a=(t=e.modelValue)!=null?t:e.defaultValue,s=o(a);return k(s,e.modelValue)||i("update:modelValue",s),s};let u;const P=j(),n=j(b()),m=v(()=>e.disabled||e.disableMinus||+n.value<=+e.min),c=v(()=>e.disabled||e.disablePlus||+n.value>=+e.max),h=v(()=>({width:q(e.inputWidth),height:q(e.buttonSize)})),S=v(()=>Z(e.buttonSize)),x=()=>{const t=o(n.value);k(t,n.value)||(n.value=t)},_=t=>{e.beforeChange?Pe(e.beforeChange,{args:[t],done(){n.value=t}}):n.value=t},C=()=>{if(u==="plus"&&c.value||u==="minus"&&m.value){i("overlimit",u);return}const t=u==="minus"?-e.step:+e.step,a=o(ne(+n.value,t));_(a),i(u)},$=t=>{const a=t.target,{value:s}=a,{decimalLength:V}=e;let l=U(String(s),!e.integer);if(W(V)&&l.includes(".")){const R=l.split(".");l=`${R[0]}.${R[1].slice(0,+V)}`}e.beforeChange?a.value=String(n.value):k(s,l)||(a.value=l);const w=l===String(+l);_(w?+l:l)},K=t=>{var a;e.disableInput?(a=P.value)==null||a.blur():i("focus",t)},J=t=>{const a=t.target,s=o(a.value,e.autoFixed);a.value=String(s),n.value=s,le(()=>{i("blur",t),te()})};let B,T;const z=()=>{T=setTimeout(()=>{C(),z()},xe)},Q=()=>{e.longPress&&(B=!1,clearTimeout(T),T=setTimeout(()=>{B=!0,C(),z()},ae))},D=t=>{e.longPress&&(clearTimeout(T),B&&N(t))},X=t=>{e.disableInput&&N(t)},H=t=>({onClick:a=>{N(a),u=t,C()},onTouchstartPassive:()=>{u=t,Q()},onTouchend:D,onTouchcancel:D});return p(()=>[e.max,e.min,e.integer,e.decimalLength],x),p(()=>e.modelValue,t=>{k(t,n.value)||(n.value=o(t))}),p(n,t=>{i("update:modelValue",t),i("change",t,{name:e.name})}),ee(()=>e.modelValue),()=>r("div",{role:"group",class:I([e.theme])},[L(r("button",O({type:"button",style:S.value,class:[I("minus",{disabled:m.value}),{[G]:!m.value}],"aria-disabled":m.value||void 0},H("minus")),null),[[E,e.showMinus]]),L(r("input",{ref:P,type:e.integer?"tel":"text",role:"spinbutton",class:I("input"),value:n.value,style:h.value,disabled:e.disabled,readonly:e.disableInput,inputmode:e.integer?"numeric":"decimal",placeholder:e.placeholder,"aria-valuemax":e.max,"aria-valuemin":e.min,"aria-valuenow":n.value,onBlur:J,onInput:$,onFocus:K,onMousedown:X},null),[[E,e.showInput]]),L(r("button",O({type:"button",style:S.value,class:[I("plus",{disabled:c.value}),{[G]:!c.value}],"aria-disabled":c.value||void 0},H("plus")),null),[[E,e.showPlus]])])}});const we=oe(Ve);const ye=ue("tabbar",{state:()=>({totalAnimalPrice:0}),actions:{}});const F=e=>(ge("data-v-582ad137"),e=e(),ve(),e),Ie={class:"home_container"},ke={class:"item_box"},Ce=F(()=>d("div",{class:"title"},"This is Home Page",-1)),Be={class:"item_box"},Ne=F(()=>d("div",{class:"title"},"Test Pinia",-1)),pe={class:"item_box"},Le=F(()=>d("div",{class:"title"},"Test Computed",-1)),Ee={key:0,class:"warning_text"},Me={key:1},Ae={__name:"Home",setup(e){const i=re(),o=de({porkPrice:0,beefPrice:0}),b=ye(),u=v(()=>o.porkPrice>5&&o.beefPrice>6);me(()=>{});const P=()=>{i.push({name:"Login"})},n=c=>{b.totalAnimalPrice=c+o.beefPrice},m=c=>{b.totalAnimalPrice=o.porkPrice+c};return(c,h)=>{const S=se,x=we;return M(),A("div",Ie,[d("section",ke,[Ce,r(S,{type:"primary",block:"",size:"small",onClick:P},{default:he(()=>[fe("Go Login Page")]),_:1})]),d("section",Be,[Ne,r(x,{modelValue:o.porkPrice,"onUpdate:modelValue":h[0]||(h[0]=_=>o.porkPrice=_),min:"0",onChange:n,theme:"round","button-size":"22"},null,8,["modelValue"]),r(x,{modelValue:o.beefPrice,"onUpdate:modelValue":h[1]||(h[1]=_=>o.beefPrice=_),min:"0",onChange:m,theme:"round","button-size":"22"},null,8,["modelValue"]),d("div",null,"Total Animal Price: "+_e(be(b).totalAnimalPrice),1)]),d("section",pe,[Le,u.value?(M(),A("div",Ee,"It's so expensive!!!")):(M(),A("div",Me,"This is Normal Price"))])])}}},Ge=ce(Ae,[["__scopeId","data-v-582ad137"]]);export{Ge as default};
